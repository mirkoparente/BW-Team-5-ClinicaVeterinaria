@model BW_Team_5_ClinicaVeterinaria.Models.Paziente

@{
    ViewBag.Title = "DettagliPaziente";
}

<h2 class="text-center my-3">Dettagli Paziente</h2>

<div class="container row">
    <div class="col">

    <hr />
    <div>

    <dl class="dl-horizontal">
        <dt>
            Cliente
        </dt>

        <dd>
            

                @if (Model.IdClienti == null)
                {

                    <p>Randagio</p>
                }
                else
                {

                    @Html.DisplayFor(modelItem => Model.Clienti.Nome) @Html.DisplayFor(modelItem => Model.Clienti.Cognome)
                }
            
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TipoPaziente.Tipologia)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.TipoPaziente.Tipologia)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Nome)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Nome)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DataNascita)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DataNascita)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ColoreMantello)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ColoreMantello)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Microchip)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Microchip)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Foto)
        </dt>

        <dd>
            <img class="img-fluid" src="~/Content/img/@Model.Foto" alt="Alternate Text" />
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.IsHospitalized)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.IsHospitalized)
        </dd> 
        
        @if (Model.IsHospitalized == true)
            {

        <dt>
            @Html.DisplayNameFor(model => model.DataRicovero)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DataRicovero)
        </dd>
            }


    </dl>
</div>
    </div>
    <div class="col">

        @if (Model.Visite.Count == 0)
        {
            <p class="mt-2">Non ci sono visite</p>
        }
            @foreach (var item in Model.Visite)
            {
                <div class="table-responsive">
                    <div class="table table-active">
                        <table>
                            <tr>
                                <th>Descrizione</th>
                                <th>Anamnesi</th>
                                <th>Data visita</th>

                            </tr>
                            <tr>
                                <td>
                                    @item.Descrizione

                                </td>
                                <td>
                                    @item.Ananmnesi

                                </td>
                                <td>
                                    @item.Data
                                </td>

                            </tr>
                        </table>
                    </div>
                </div>

                @Html.ActionLink("Modifica visita", "Edit", "Visite", new { id = item.IdVisite }, new { @class = "btn btn-primary me-3" })
                @Html.ActionLink("Cancella visita", "Delete", "Visite", new { id = item.IdVisite }, new { @class = "btn btn-primary" })

            }
        </div>
    </div>
<p>
    @Html.ActionLink("Nuova visita", "Create", "Visite", new { id = Model.IdPaziente }, new { @class = "btn btn-primary" }) <hr/>
    @Html.ActionLink("Torna alla Gestione", "ListaPazienti", new { @class = "btn btn-outline-info" })
</p>
